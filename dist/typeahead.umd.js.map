{"version":3,"file":"typeahead.umd.js","sources":["../src/ui-menu/ui-menu.ts","../src/ui-typeahead/style/typeahead.ts","../src/ui-typeahead/ui-typeahead.ts"],"sourcesContent":["import * as style from './style/style.scss';\r\ninterface MenuItem {\r\n    id:string;\r\n    label:string;\r\n    callback: Function;\r\n}\r\ninterface MenuEventDetail {\r\n    items:MenuItem[],\r\n    relativeElement:HTMLElement,\r\n    options: MenuOptions,\r\n}\r\ninterface MenuStateInterface {\r\n    isShowing:boolean;\r\n    mouseX: number;\r\n    mouseY: number;\r\n}\r\ninterface MenuOptions {\r\n    height:string;\r\n}\r\nclass MenuComponent {\r\n    public static MENU_ID = 'ui-menu';\r\n    public static EVENTS = {\r\n        OPEN_MENU: 'OPEN_MENU'\r\n    };\r\n    private options: MenuOptions;\r\n    private optionList: MenuItem[];\r\n    private relativeElement: HTMLElement | null;\r\n    private state: MenuStateInterface;\r\n    private resizeHandler: EventListenerOrEventListenerObject; \r\n    private openMenuHandler: EventListenerOrEventListenerObject; \r\n    private menuClickedHandler: EventListenerOrEventListenerObject; \r\n    private mouseClickHandler: EventListenerOrEventListenerObject; \r\n    private mouseMoveHandler: EventListenerOrEventListenerObject; \r\n\r\n    constructor() {\r\n        this.optionList = [];\r\n        this.state = {\r\n            isShowing: false,\r\n            mouseX:0,\r\n            mouseY:0,\r\n        }\r\n        this.options = {\r\n            height: '100px',\r\n        };\r\n        this.relativeElement = null;\r\n        this.resizeHandler = this.onResize.bind(this);\r\n        this.openMenuHandler = this.openMenu.bind(this) as EventListenerOrEventListenerObject;\r\n        this.menuClickedHandler = this.onMenuClicked.bind(this) as EventListenerOrEventListenerObject;\r\n        this.mouseClickHandler = this.onMouseClick.bind(this) as EventListenerOrEventListenerObject;\r\n        this.mouseMoveHandler = this.onMouseMove.bind(this) as EventListenerOrEventListenerObject;\r\n\r\n        document.addEventListener('DOMContentLoaded', this.onDomLoaded.bind(this));\r\n    }\r\n    private onDomLoaded(){\r\n        this.createMenu();\r\n    }\r\n    private createMenu() {\r\n        let menu = document.querySelector(`#${MenuComponent.MENU_ID}`);\r\n        if(!menu) {\r\n            const styleElement = document.createElement('style');\r\n            menu = document.createElement('div');\r\n            menu.id = MenuComponent.MENU_ID;\r\n            styleElement.innerHTML = this.getStyle();\r\n            menu.innerHTML = this.getTemplate();\r\n            document.body.appendChild(styleElement);\r\n            document.body.appendChild(menu);\r\n        }\r\n        \r\n        document.body.addEventListener(MenuComponent.EVENTS.OPEN_MENU, this.openMenuHandler);\r\n        document.body.addEventListener('click', this.mouseClickHandler);\r\n        document.body.addEventListener('mousemove', this.mouseMoveHandler);\r\n    }\r\n    private onMouseMove(event : MouseEvent){\r\n        if (event.pageX)\r\n        {\r\n            this.state.mouseX = event.pageX;\r\n            this.state.mouseY = event.pageY;\r\n        }\r\n        else\r\n        {\r\n            this.state.mouseX = (window.event as any).x + document.body.scrollLeft - 2;\r\n            this.state.mouseY = (window.event as any).y + document.body.scrollTop - 2;\r\n        }\r\n    }\r\n    private onMouseClick(event: MouseEvent){\r\n        let menu = document.querySelector(`#${MenuComponent.MENU_ID}`);\r\n        if(menu && this.relativeElement && this.isMouseOutOfElement(menu) &&  this.isMouseOutOfElement(this.relativeElement) || menu && !this.relativeElement && this.isMouseOutOfElement(menu)) {\r\n            this.hideMenu();\r\n        }\r\n        \r\n    }\r\n    private isMouseOutOfElement(element: Element) : boolean{\r\n        const rect: DOMRect = element.getBoundingClientRect() as DOMRect;\r\n        const offsetY = (element as HTMLElement).offsetTop;\r\n        const offsetX = (element as HTMLElement).offsetLeft;\r\n        return this.state.mouseX > (rect.width + offsetX) || this.state.mouseX < (offsetX) || this.state.mouseY > (rect.height + offsetY) || this.state.mouseY < (offsetY);\r\n    }\r\n    private openMenu(event : CustomEvent){\r\n        let menu = document.querySelector(`#${MenuComponent.MENU_ID}`) as HTMLElement;\r\n        const detail: MenuEventDetail = event.detail;\r\n        this.options = {\r\n            height: '',\r\n        };\r\n        if(menu && detail.items) {\r\n            if(this.optionList !== detail.items) { \r\n                this.optionList = detail.items;\r\n                this.options = detail.options;\r\n                this.relativeElement = detail.relativeElement;\r\n                const listHolder = menu.querySelector('.ui-list-holder');\r\n                if(listHolder)listHolder.innerHTML = this.getMenuList();\r\n            }\r\n            if(!menu.classList.contains('show')) {\r\n                this.state.isShowing = true;\r\n                menu.style.height = this.options && this.options.height ? this.options.height: '';\r\n                menu.classList.add('show');\r\n                const listHolder = menu.querySelector('.ui-list-holder');\r\n                if(listHolder)listHolder.addEventListener('click', this.menuClickedHandler);\r\n                window.addEventListener('resize', this.resizeHandler);\r\n            }\r\n            this.positionMenu();\r\n        }\r\n    }\r\n    private onMenuClicked(event : MouseEvent){\r\n        const id = event.srcElement ? (event.srcElement as HTMLElement).getAttribute('option-list-id'): null;\r\n        const item = this.optionList.find(option => option.id == id);\r\n        if(item){\r\n            if(item.callback)item.callback(item);\r\n        }\r\n        this.hideMenu();\r\n    }\r\n    private hideMenu(){\r\n        window.removeEventListener('resize', this.resizeHandler);\r\n        this.reset();\r\n        let menu = document.querySelector(`#${MenuComponent.MENU_ID}`);\r\n        if(menu){\r\n            const listHolder = menu.querySelector('.ui-list-holder');\r\n            if(listHolder)listHolder.removeEventListener('click', this.menuClickedHandler);\r\n            menu.classList.remove('show');\r\n        }\r\n    }\r\n    private reset(){\r\n        this.state.isShowing = false;\r\n        this.relativeElement = null;\r\n        this.optionList = [];\r\n    }\r\n    private positionMenu(){\r\n        let menu = document.querySelector(`#${MenuComponent.MENU_ID}`) as HTMLElement;\r\n        if(menu && this.relativeElement) {\r\n            const rect: DOMRect = this.relativeElement.getBoundingClientRect() as DOMRect;\r\n            const viewPortHeight = window.innerHeight;\r\n            menu.style.width = rect.width + 'px'; \r\n            const menuRect: DOMRect = menu.getBoundingClientRect() as DOMRect;\r\n\r\n            menu.style.left = this.relativeElement.offsetLeft + 'px';\r\n\r\n            if(rect.bottom + menuRect.height > viewPortHeight) {\r\n                menu.style.top = (this.relativeElement.offsetTop - menuRect.height) + 'px';\r\n            }else{\r\n                menu.style.top = (this.relativeElement.offsetTop + rect.height) + 'px';\r\n            }\r\n        }else if(menu){\r\n            menu.style.top = this.state.mouseY + 'px';\r\n            menu.style.left = this.state.mouseX + 'px';\r\n        }\r\n    }\r\n    private onResize(){\r\n        if(this.state.isShowing) {\r\n            this.positionMenu();\r\n        }\r\n    }\r\n    private getStyle() {\r\n        return `\r\n            #${MenuComponent.MENU_ID} {\r\n                font-family: Helvetica, Arial, sans-serif;\r\n                font-family: var(--ui-menu-font-family, Helvetica, Arial, sans-serif);\r\n                position:absolute;\r\n                padding: 10px;\r\n                padding: var(--ui-menu-padding, 10px);\r\n                border: 1px solid #333;\r\n                display:none;\r\n                box-sizing: border-box;\r\n                background-color:white;\r\n                background-color:var(--ui-menu-bg-color, white);\r\n                z-index:99999;\r\n                overflow:auto;\r\n            }\r\n            #${MenuComponent.MENU_ID}.show {\r\n                display:block;\r\n            }\r\n            #${MenuComponent.MENU_ID} .ui-list-holder div {\r\n                cursor: pointer;\r\n            }\r\n            #${MenuComponent.MENU_ID} .ui-list-holder div:hover {\r\n                background-color: #ccc;\r\n            }\r\n\r\n            `;\r\n    }\r\n    private getMenuList()\r\n    {\r\n        let template = ``;\r\n        this.optionList\r\n        .forEach((item, index)=>{\r\n            template += `\r\n            <div option-list-id=\"${item.id !== undefined ? item.id : index}\">\r\n                ${item.label}\r\n            </div>\r\n            `\r\n        });\r\n        return template;\r\n    }\r\n    private getTemplate() {\r\n        return `\r\n            <div class=\"ui-list-holder\">\r\n            <div>\r\n        `;\r\n    }\r\n}\r\n(window as any).UIComponents = {...(window as any).UIComponents,  menuComponent: new MenuComponent()} ","export const TypeAHeadStyle = ()=>{\r\n    const margin = '5px';\r\n        return `\r\n            ui-typeahead {\r\n                display:inline-block;\r\n                font-family: Helvetica, Arial, sans-serif;\r\n            }\r\n            :host {\r\n                display:inline-block;\r\n                font-family: Helvetica, Arial, sans-serif;\r\n            }\r\n            .wrapper {\r\n                display: flex;\r\n                border:1px solid #333;\r\n                flex-wrap: wrap;\r\n                position: relative;\r\n                padding-right: 1.5rem;\r\n                background-color: white;\r\n                background-color: var(--typeahead-bg-color,white);\r\n            }\r\n            .pill {\r\n                border-radius: 0.2rem;\r\n                border-radius: var(--pill-border-radius,0.2rem);\r\n                background-color: #999;\r\n                background-color: var(--pill-bg-color,#999);\r\n                color: white;\r\n                color: var(--pill-color,white);\r\n                padding: 0.3rem 0.5rem;\r\n                padding: var(--pill-padding,0.3rem 0.5rem);\r\n                margin-top: 0.2rem;\r\n                margin-top: var(--pill-margin-top,0.2rem);\r\n                margin-bottom: 0.2rem;\r\n                margin-bottom: var(--pill-margin-bottom,0.2rem);\r\n                margin-left: 0.2rem;\r\n                margin-left: var(--pill-margin-left,0.2rem);\r\n                display: inline-block;\r\n                margin-right: 0.2rem;\r\n                margin-right: var(--pill-margin-right,0.2rem);\r\n                font-size: 0.75rem;\r\n                font-size: var(--pill-font-size,0.75rem);\r\n                cursor:pointer;\r\n            }\r\n            .pill:not(.active):hover {\r\n                background-color: #666;\r\n                background-color: var(--pill-hover-bg-color,#666);\r\n            }\r\n            .pill.active {\r\n                background-color: #333;\r\n                background-color: var(--pill-active-bg-color,#333);\r\n                color: white;\r\n                color: var(--pill-active-color,white);\r\n            }\r\n            .pill span {\r\n                display: inline-block;\r\n                padding: 0 0.2rem;\r\n            }\r\n            input {\r\n                display: inline-block;\r\n                flex: 1;\r\n                border: none;\r\n                min-width:2rem;\r\n                margin:${margin};\r\n            }\r\n            input:focus {\r\n                outline:none;\r\n            }\r\n            span.close {\r\n                position: absolute;\r\n                right: 0.5rem;\r\n                top: 50%;\r\n                transform: translateY(-50%);\r\n                font-size: 0.8rem;\r\n                font-weight: 700;\r\n                line-height: 1;\r\n                color: #333;\r\n                color: var(--typeahead-close-color,#333);\r\n                cursor: pointer;\r\n                display: none;\r\n            }\r\n            span.close:hover {\r\n                color: #999;\r\n                color: var(--typeahead-close-color,#999);\r\n            }\r\n            span.close.show {\r\n                display: block;\r\n            }\r\n            `;\r\n}","import {TypeAHeadStyle} from './style/typeahead';\r\nexport interface TypeAHeadItem {\r\n    label:string;\r\n    id: string | number;\r\n} \r\nexport interface TypeAHeadOptions {\r\n    menuHeight:string;\r\n}\r\nexport class TypeAHeadComponent extends HTMLElement {\r\n    public static get observedAttributes(): string[] {\r\n        return ['option-list' ,'selected-list', 'options'];\r\n    }\r\n    public static EVENTS = {\r\n        ON_CHANGE: 'TYPEAHEAD_ON_CHANGE',\r\n    }\r\n    private optionList: TypeAHeadItem[];\r\n    private selectedList: TypeAHeadItem[];\r\n    private options: TypeAHeadOptions;\r\n    private element: HTMLElement;\r\n    private styleElement: HTMLStyleElement;\r\n    constructor() {\r\n        super();\r\n        this.optionList = [];\r\n        this.selectedList = [];\r\n        this.options = {\r\n            menuHeight: '200px',\r\n        }\r\n        this.element = document.createElement('div');\r\n        this.styleElement = document.createElement('style');\r\n    }\r\n    public setList(value: any ){\r\n        this.setProp('optionList',value);\r\n    }\r\n    public setSelected(value: any ){\r\n       this.setProp('selectedList',value);\r\n    }\r\n    public setOptions(value: any ){\r\n        this.setProp('options',value);\r\n     }\r\n    private setProp(prop:string, value:any){\r\n        if(!value) return;\r\n        (this as any)[prop] = (typeof value == 'string') ?  JSON.parse(value): value;\r\n        this.render();\r\n    }\r\n    public connectedCallback() {\r\n        const shadow = this.attachShadow({ mode: 'open' });\r\n        shadow.appendChild(this.styleElement);\r\n        shadow.appendChild(this.element);\r\n\r\n        this.styleElement.innerHTML = TypeAHeadStyle();\r\n        this.element.classList.add('wrapper');\r\n        this.element.innerHTML = this.getTemplate();\r\n        this.render(true);\r\n        this.element.addEventListener('click',this.onParentfocus.bind(this) as EventListenerOrEventListenerObject)\r\n    }\r\n    public attributeChangedCallback(name: string, oldValue: string, newValue: string) {\r\n        switch (name) {\r\n            case 'option-list':\r\n                this.setList(newValue);\r\n            break;\r\n            case 'selected-list':\r\n                this.setSelected(newValue);\r\n            break;\r\n            case 'options':\r\n                this.setOptions(newValue);\r\n            break;\r\n        }\r\n    }\r\n\r\n    private render(isFirstTime?:boolean){\r\n        if(!isFirstTime) this.dispatchOnChange();\r\n        this.element.innerHTML = this.getTemplate();\r\n        const closeButton = this.element.querySelector('.close') as HTMLElement;\r\n        if(this.selectedList.length){\r\n            closeButton.classList.add('show');\r\n        }else{\r\n            closeButton.classList.remove('show');\r\n        }\r\n        const input = this.element.querySelector('input') as HTMLElement;\r\n        input.addEventListener('keyup',this.onInputKey.bind(this));\r\n        input.addEventListener('click',this.onInputKey.bind(this) as EventListenerOrEventListenerObject);\r\n        closeButton.addEventListener('click',this.onClearAllSelected.bind(this));\r\n        this.element.querySelectorAll('.pill span').forEach((closeButton)=>closeButton.addEventListener('click',this.onPillClick.bind(this) as EventListenerOrEventListenerObject));\r\n    }\r\n    private onPillClick(event : MouseEvent){\r\n        const index = (event.currentTarget as HTMLElement).getAttribute('pill-id');\r\n        this.selectedList.splice(Number(index), 1);\r\n        this.render();\r\n    }\r\n    private onClearAllSelected() {\r\n        this.selectedList = [];\r\n        this.render();\r\n    }\r\n    private onInputKey(event: KeyboardEvent){\r\n        const customEvent = new CustomEvent('OPEN_MENU',{\r\n            detail:{\r\n                items: this.getMenuItems(),\r\n                relativeElement: this,\r\n                options: {\r\n                    height: this.options && this.options.menuHeight ? this.options.menuHeight : '',\r\n                }\r\n            }\r\n        })\r\n        document.body.dispatchEvent(customEvent);\r\n    }\r\n    private dispatchOnChange(){\r\n        const customEvent = new CustomEvent(TypeAHeadComponent.EVENTS.ON_CHANGE,{\r\n            detail:{\r\n                selectedItems: [...this.selectedList],\r\n            }\r\n        })\r\n        this.dispatchEvent(customEvent);\r\n    }\r\n    \r\n    private onParentfocus(event: FocusEvent){\r\n        (this.element.querySelector('input') as HTMLElement).focus();\r\n    }\r\n    private getMenuItems(): any[]{\r\n        const value =  (this.element.querySelector('input') as HTMLInputElement).value.toLowerCase();\r\n        let options = !value ? this.optionList\r\n        .filter(item=> !this.selectedList.find(sItem => item.id == sItem.id))\r\n        : this.optionList.filter(item=> !this.selectedList.find(sItem => item.id == sItem.id) && item.label.toLowerCase().indexOf(value) >= 0 )\r\n        .map(item => {return {...item, label: item.label.replace(new RegExp(`${value}`,'igm'),`<strong>${value}</strong>`)}});\r\n        if(!options.length)options.push({\r\n            label: 'No matches found.',\r\n            id: 0,\r\n        })\r\n        return options.map(item => {return {...item, callback:this.onMenuItemClicked.bind(this)}});\r\n    }\r\n    private onMenuItemClicked(selectedItem: TypeAHeadItem){\r\n        this.selectedList.push(this.optionList.find(item => item.id == selectedItem.id) as TypeAHeadItem);\r\n        this.render();\r\n        (this.element.querySelector('input') as HTMLElement).focus();\r\n    }\r\n    private  getPillTemplate(name: string, index:number){\r\n        return `\r\n            <div class=\"pill\">\r\n                ${name}\r\n                <span pill-id=\"${index}\">x</span>\r\n            </div>\r\n        `;\r\n    }\r\n    private getPillList(){\r\n        let template = ``;\r\n        this.selectedList.forEach((item, index)=>{\r\n            template += this.getPillTemplate(item.label, index);\r\n        });\r\n        return template;\r\n    }\r\n    private getTemplate() {\r\n        return `\r\n            ${this.getPillList()}\r\n            <input>\r\n            <span class=\"close\">x</span>\r\n        `;\r\n    }\r\n}\r\ncustomElements.define('ui-typeahead', TypeAHeadComponent);"],"names":["tslib_1.__extends"],"mappings":"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"}